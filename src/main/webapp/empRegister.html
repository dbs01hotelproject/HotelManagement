<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="js\jquery-3.3.1.min.js"></script>

<script type="text/javascript">
	$(function() {
		
		$("#button1").click(function() {
			var e_empno = $("#e_empno").val();
			var e_name = $("#e_name").val();
			var e_pass = $("#e_pass").val();
			var e_character = $("#e_character").val();
			var e_pass2 = $("#e_pass2").val();
			if (e_empno == "") {
				alert("员工编号不能为空");
				return false;
			}

			if (e_name == "") {
				alert("用户名不能为空");
				return false;
			}

			if (e_pass == "") {
				alert("密码不能为空");
				return false;
			}

			if (e_pass2 == "") {
				alert("确认密码不能为空");
				return false;
			}
			
			if (e_pass!=e_pass2){
				alert('两次密码不一致');
				return false;
			}
			
			if (e_pass.length<8){
				alert('密码少于8位');
				return false;
			}
			
			alert("测试开始");
			$.ajax({

				type : "post",
				url : "/HotelManagement/EmployeeController/register2",
				contentType : 'application/json;charset=UTF-8',//必须有
				data : JSON.stringify({
					e_empno : e_empno,
					e_name : e_name,
					e_pass : e_pass,
					e_character : e_character
				}),//请求的数据格式为JSON数据,对于@RequestBody来说很重要必不可少
				success : function(backData) {
					if (backData.key == 'success') {
						alert(backData.msg);
					}else {
						alert(backData.msg);
					}
				}
			});
			alert("测试末尾");

		});
	});
	
	
	
	
</script>
</head>
<body>


	<select id="e_character" >
		<option id="receptionlist" value="前台接待员">前台接待员</option>
		<option id="cashier" value="收银员">收银员</option>
		<option id="housekeeper" value="房管员 ">房管员</option>
		<option id="manager" value="管理员" >管理员</option>
	</select>
	<br>
	<br> 员工编号:
	<br>
	<input type="number" name="e_empno" id="e_empno" >

	<br>
	<br> 用户名：
	<br>
	<input type="text" name="e_name" id="e_name">

	<br>
	<br> 密码:
	<br>
	<input type="password" name="e_pass" id="e_pass">

	<br>
	<br> 确认密码:
	<br>
	<input type="password" name="e_pass2" id="e_pass2">

	<br>
	<br>
	<input type="button" name="button1" id="button1" value="保存用户信息">

	<form action="/HotelManagement/EmployeeController/logout" method="get">
		<input type="submit" value="退出登录">
	</form>


</body>
</html>